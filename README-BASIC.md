# V2Ray Basic ä¸€é”®éƒ¨ç½²è„šæœ¬

ğŸš€ **å¿«é€Ÿéƒ¨ç½²V2Ray + Nginxåå‘ä»£ç†çš„Dockerè§£å†³æ–¹æ¡ˆ**

## ğŸ“– ç®€ä»‹

V2Ray Basic æ˜¯ä¸€ä¸ªç®€åŒ–çš„ä»£ç†æœåŠ¡å™¨éƒ¨ç½²æ–¹æ¡ˆï¼Œä½¿ç”¨ WebSocket ä¼ è¾“åè®®ï¼Œé€šè¿‡ Nginx åå‘ä»£ç†æä¾›æœåŠ¡ã€‚æ­¤ç‰ˆæœ¬ä¸“ä¸ºå¿«é€Ÿæµ‹è¯•ã€å­¦ä¹ V2Rayæˆ–åœ¨å—ä¿¡ä»»çš„ç½‘ç»œç¯å¢ƒä¸­ä½¿ç”¨è€Œè®¾è®¡ï¼Œå…·å¤‡å®Œå–„çš„è‡ªåŠ¨åŒ–éƒ¨ç½²å’Œç®¡ç†åŠŸèƒ½ã€‚

> **ğŸ’¡ å‡çº§å»ºè®®**: å¦‚éœ€ç”Ÿäº§ç¯å¢ƒæˆ–é«˜å®‰å…¨éœ€æ±‚ï¼Œæ¨èä½¿ç”¨ [V2Ray TLSç‰ˆæœ¬](README-TLS.md)ï¼Œæ”¯æŒåŸŸåã€SSLè¯ä¹¦ã€22é¡¹å®‰å…¨å¢å¼ºå’Œé«˜çº§æµé‡ä¼ªè£…ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½
- âœ… **ä¸€é”®éƒ¨ç½²** - è‡ªåŠ¨å®‰è£…æ‰€æœ‰ä¾èµ–å¹¶é…ç½®æœåŠ¡
- âœ… **Docker å®¹å™¨åŒ–** - ä½¿ç”¨ Docker å’Œ Docker Compose ç®¡ç†
- âœ… **WebSocket ä¼ è¾“** - ä½¿ç”¨ WebSocket åè®®ä¼ è¾“æ•°æ®
- âœ… **Nginx åå‘ä»£ç†** - æä¾›è´Ÿè½½å‡è¡¡å’Œè¯·æ±‚è½¬å‘
- âœ… **è‡ªåŠ¨é˜²ç«å¢™é…ç½®** - æ”¯æŒ UFWã€Firewalld å’Œ iptables

### ğŸ›¡ï¸ å®‰å…¨ç‰¹æ€§
- âœ… **UUID è‡ªåŠ¨ç”Ÿæˆ** - æ¯æ¬¡éƒ¨ç½²ç”Ÿæˆå”¯ä¸€æ ‡è¯†ç¬¦
- âœ… **ç½‘ç»œéš”ç¦»** - Docker ç½‘ç»œéš”ç¦»
- âœ… **è®¿é—®æ—¥å¿—** - å®Œæ•´çš„è®¿é—®å’Œé”™è¯¯æ—¥å¿—è®°å½•
- âœ… **å¥åº·æ£€æŸ¥** - å®¹å™¨å¥åº·çŠ¶æ€ç›‘æ§

### ğŸ”§ ç®¡ç†ç‰¹æ€§
- âœ… **ç³»ç»Ÿæ£€æŸ¥** - éƒ¨ç½²å‰å…¨é¢æ£€æŸ¥ç³»ç»Ÿè¦æ±‚
- âœ… **ç«¯å£æ£€æµ‹** - è‡ªåŠ¨æ£€æµ‹ç«¯å£å ç”¨æƒ…å†µ
- âœ… **æœåŠ¡æµ‹è¯•** - éƒ¨ç½²åè‡ªåŠ¨éªŒè¯æœåŠ¡çŠ¶æ€
- âœ… **é”™è¯¯å¤„ç†** - å¤±è´¥æ—¶è‡ªåŠ¨æ¸…ç†å’Œå›æ»š

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

### æ“ä½œç³»ç»Ÿ
- Ubuntu 18.04+ 
- CentOS 8+
- Debian 10+
- å…¶ä»–æ”¯æŒ Docker çš„ Linux å‘è¡Œç‰ˆ

### ç¡¬ä»¶è¦æ±‚
- **å†…å­˜**: æœ€ä½ 512MBï¼Œæ¨è 1GB+
- **ç£ç›˜**: æœ€ä½ 1GB å¯ç”¨ç©ºé—´
- **ç½‘ç»œ**: å…¬ç½‘IPåœ°å€

### è½¯ä»¶ä¾èµ–
ä»¥ä¸‹è½¯ä»¶å°†è‡ªåŠ¨å®‰è£…ï¼ˆå¦‚æœç¼ºå¤±ï¼‰ï¼š
- Docker
- Docker Compose
- curl
- netstat

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ä¸‹è½½è„šæœ¬
```bash
# å…‹éš†å®Œæ•´é¡¹ç›®ï¼ˆæ¨èï¼‰
git clone https://github.com/alleninnz/v2ray.git
cd v2ray

# æˆ–ç›´æ¥ä¸‹è½½è„šæœ¬
wget https://raw.githubusercontent.com/alleninnz/v2ray/main/deploy-v2ray-basic.sh
```

### 2. è¿è¡Œè„šæœ¬
```bash
sudo bash deploy-v2ray-basic.sh
```

### 3. éƒ¨ç½²è¿‡ç¨‹
è„šæœ¬ä¼šè‡ªåŠ¨æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š
1. âœ… æ£€æŸ¥ç³»ç»Ÿè¦æ±‚å’Œæƒé™
2. âœ… æ£€æŸ¥ç«¯å£å ç”¨æƒ…å†µ
3. âœ… å®‰è£… Docker å’Œ Docker Compose
4. âœ… è·å–æœåŠ¡å™¨å…¬ç½‘IP
5. âœ… ç”Ÿæˆé…ç½®æ–‡ä»¶
6. âœ… å¯åŠ¨æœåŠ¡å¹¶éªŒè¯
7. âœ… é…ç½®é˜²ç«å¢™è§„åˆ™
8. âœ… è¾“å‡ºè¿æ¥ä¿¡æ¯

## ğŸ“Š é…ç½®è¯¦æƒ…

### é»˜è®¤é…ç½®
- **Nginx ç«¯å£**: 10086
- **V2Ray å†…éƒ¨ç«¯å£**: 8080
- **WebSocket è·¯å¾„**: `/ray`
- **ä¼ è¾“åè®®**: WebSocket (ws)
- **åŠ å¯†**: VMess + auto

### ç›®å½•ç»“æ„
```
/opt/v2ray-basic/
â”œâ”€â”€ config/
â”‚   â””â”€â”€ config.json          # V2Ray é…ç½®æ–‡ä»¶
â”œâ”€â”€ nginx/
â”‚   â””â”€â”€ nginx.conf           # Nginx é…ç½®æ–‡ä»¶
â”œâ”€â”€ logs/                    # æ—¥å¿—ç›®å½•
â”œâ”€â”€ docker-compose.yml       # Docker Compose é…ç½®
â””â”€â”€ connection-info.txt      # è¿æ¥ä¿¡æ¯
```

### V2Ray é…ç½®
- **åè®®**: VMess
- **ä¼ è¾“**: WebSocket
- **è·¯å¾„**: `/ray`
- **alterId**: 0ï¼ˆæ¨èï¼‰
- **å®‰å…¨**: auto

### Nginx é…ç½®
- **ç«¯å£**: 10086
- **åè®®**: HTTP
- **ä»£ç†è·¯å¾„**: `/ray` â†’ V2Ray å®¹å™¨
- **ä¼ªè£…é¡µé¢**: æ¬¢è¿é¡µé¢
- **å¥åº·æ£€æŸ¥**: `/health` ç«¯ç‚¹

## ğŸ“± å®¢æˆ·ç«¯é…ç½®

### Shadowrocket
```
ç±»å‹: VMess
æœåŠ¡å™¨: [ä½ çš„æœåŠ¡å™¨IP]
ç«¯å£: 10086
ç”¨æˆ·ID: [ç”Ÿæˆçš„UUID]
é¢å¤–ID: 0
åŠ å¯†æ–¹å¼: auto
ä¼ è¾“åè®®: WebSocket (ws)
è·¯å¾„: /ray
Host: [ä½ çš„æœåŠ¡å™¨IP]
TLS: å…³é—­
```

### V2rayN
```
åœ°å€(Address): [ä½ çš„æœåŠ¡å™¨IP]
ç«¯å£(Port): 10086
ç”¨æˆ·ID(User ID): [ç”Ÿæˆçš„UUID]
é¢å¤–ID(AlterID): 0
åŠ å¯†æ–¹å¼(Security): auto
ä¼ è¾“åè®®(Network): ws
è·¯å¾„(Path): /ray
TLS: none
```

### Clash
```yaml
proxies:
  - name: "V2Ray-Basic"
    type: vmess
    server: [ä½ çš„æœåŠ¡å™¨IP]
    port: 10086
    uuid: [ç”Ÿæˆçš„UUID]
    alterId: 0
    cipher: auto
## ğŸ“± å®¢æˆ·ç«¯é…ç½®

### è¿æ¥å‚æ•°
éƒ¨ç½²å®Œæˆåï¼Œè„šæœ¬ä¼šæ˜¾ç¤ºå®Œæ•´çš„è¿æ¥ä¿¡æ¯ï¼š

```
ç±»å‹: VMess
æœåŠ¡å™¨: [æœåŠ¡å™¨IPåœ°å€]
ç«¯å£: 10086
ç”¨æˆ·ID: [è‡ªåŠ¨ç”Ÿæˆçš„UUID]
é¢å¤–ID: 0
åŠ å¯†æ–¹å¼: auto
ä¼ è¾“åè®®: WebSocket (ws)
è·¯å¾„: /ray
TLS: å…³é—­
```

### ä¸»æµå®¢æˆ·ç«¯é…ç½®

#### ğŸ“± Shadowrocket (iOS)
```
ç±»å‹: VMess
åœ°å€: [æœåŠ¡å™¨IP]
ç«¯å£: 10086
UUID: [ç”Ÿæˆçš„UUID]
alterId: 0
å®‰å…¨: auto
ç½‘ç»œ: WebSocket
è·¯å¾„: /ray
TLS: å…³é—­
```

#### ğŸ¤– v2rayNG (Android)
```
åœ°å€: [æœåŠ¡å™¨IP]
ç«¯å£: 10086
ç”¨æˆ·ID: [ç”Ÿæˆçš„UUID]
é¢å¤–ID: 0
åŠ å¯†æ–¹å¼: auto
ä¼ è¾“åè®®: ws
è·¯å¾„: /ray
ä¼ è¾“å±‚å®‰å…¨: å…³é—­
```

#### ğŸ’» v2rayN (Windows)
```
åœ°å€: [æœåŠ¡å™¨IP]
ç«¯å£: 10086
ç”¨æˆ·ID: [ç”Ÿæˆçš„UUID]
é¢å¤–ID: 0
åŠ å¯†æ–¹å¼: auto
ä¼ è¾“åè®®: ws
è·¯å¾„: /ray
ä¼ è¾“å±‚å®‰å…¨: å…³é—­
```

#### ğŸ ClashX (macOS)
```yaml
proxies:
  - name: "V2Ray-Basic"
    type: vmess
    server: [æœåŠ¡å™¨IP]
    port: 10086
    uuid: [ç”Ÿæˆçš„UUID]
    alterId: 0
    cipher: auto
    network: ws
    tls: false
    ws-opts:
      path: /ray
      headers:
        Host: [æœåŠ¡å™¨IP]
```

### é…ç½®è¯´æ˜
- **æœåŠ¡å™¨åœ°å€**: ä½¿ç”¨æœåŠ¡å™¨çš„å…¬ç½‘IPåœ°å€
- **TLSè®¾ç½®**: Basicç‰ˆæœ¬ä¸ä½¿ç”¨TLSåŠ å¯†
- **è·¯å¾„**: å›ºå®šä¸º `/ray`
- **UUID**: æ¯æ¬¡éƒ¨ç½²è‡ªåŠ¨ç”Ÿæˆå”¯ä¸€ID

## ğŸ”§ ç®¡ç†å‘½ä»¤

### æŸ¥çœ‹æœåŠ¡çŠ¶æ€
```bash
cd /opt/v2ray-basic && docker-compose ps
```

### æŸ¥çœ‹æ—¥å¿—
```bash
# æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—
cd /opt/v2ray-basic && docker-compose logs -f

# æŸ¥çœ‹ V2Ray æ—¥å¿—
cd /opt/v2ray-basic && docker-compose logs -f v2ray-server

# æŸ¥çœ‹ Nginx æ—¥å¿—
cd /opt/v2ray-basic && docker-compose logs -f nginx-proxy
```

### é‡å¯æœåŠ¡
```bash
cd /opt/v2ray-basic && docker-compose restart
```

### åœæ­¢æœåŠ¡
```bash
cd /opt/v2ray-basic && docker-compose down
```

### æ›´æ–°æœåŠ¡
```bash
cd /opt/v2ray-basic && docker-compose pull && docker-compose up -d
```

### å®Œå…¨å¸è½½
```bash
cd /opt/v2ray-basic && docker-compose down
rm -rf /opt/v2ray-basic
```

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜è§£å†³

1. **ç«¯å£è¢«å ç”¨**
   ```bash
   # æ£€æŸ¥ç«¯å£å ç”¨
   netstat -tlnp | grep 10086
   # ç»ˆæ­¢å ç”¨è¿›ç¨‹
   sudo fuser -k 10086/tcp
   ```

2. **Docker æœåŠ¡æœªå¯åŠ¨**
   ```bash
   sudo systemctl start docker
   sudo systemctl enable docker
   ```

3. **é˜²ç«å¢™é˜»æ­¢è¿æ¥**
   ```bash
   # UFW
   sudo ufw allow 10086
   
   # Firewalld
   sudo firewall-cmd --permanent --add-port=10086/tcp
   sudo firewall-cmd --reload
   ```

4. **æœåŠ¡æ— æ³•è®¿é—®**
   ```bash
   # æ£€æŸ¥å®¹å™¨çŠ¶æ€
   cd /opt/v2ray-basic && docker-compose ps
   
   # æŸ¥çœ‹é”™è¯¯æ—¥å¿—
   cd /opt/v2ray-basic && docker-compose logs
   ```

### æ€§èƒ½ä¼˜åŒ–
- å®šæœŸæ¸…ç†Dockeré•œåƒ: `docker system prune -f`
- ç›‘æ§èµ„æºä½¿ç”¨: `docker stats`
- è°ƒæ•´Nginxé…ç½®ä»¥é€‚åº”é«˜å¹¶å‘

### è·å–æ”¯æŒ
- ğŸ“– [é¡¹ç›®æ–‡æ¡£](https://github.com/alleninnz/v2ray)
- ğŸ› [é—®é¢˜æŠ¥å‘Š](https://github.com/alleninnz/v2ray/issues)
- ğŸ’¬ [è®¨è®ºåŒº](https://github.com/alleninnz/v2ray/discussions)

## ğŸ“ ç‰ˆæœ¬å†å²

- **v1.0**: åˆå§‹ç‰ˆæœ¬ï¼ŒåŸºç¡€VMessåè®®æ”¯æŒ
- **v1.1**: å¢åŠ Dockeræ”¯æŒå’Œè‡ªåŠ¨åŒ–éƒ¨ç½²
- **v1.2**: ä¼˜åŒ–é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•
- **v1.3**: å½“å‰ç‰ˆæœ¬ï¼Œå¢å¼ºå®‰å…¨æ€§å’Œç¨³å®šæ€§

## âš ï¸ é‡è¦æé†’

1. **å®‰å…¨å»ºè®®**: Basicç‰ˆæœ¬é€‚ç”¨äºæµ‹è¯•å’Œå­¦ä¹ ï¼Œç”Ÿäº§ç¯å¢ƒè¯·ä½¿ç”¨TLSç‰ˆæœ¬
2. **ç½‘ç»œè¦æ±‚**: ç¡®ä¿æœåŠ¡å™¨å…·æœ‰ç¨³å®šçš„ç½‘ç»œè¿æ¥
3. **åˆè§„ä½¿ç”¨**: è¯·ç¡®ä¿åœ¨æ³•å¾‹å…è®¸çš„èŒƒå›´å†…ä½¿ç”¨
4. **å®šæœŸæ›´æ–°**: å»ºè®®å®šæœŸæ›´æ–°Dockeré•œåƒå’Œè„šæœ¬

---

**ğŸ’¡ æƒ³è¦æ›´å¼ºçš„å®‰å…¨æ€§å’Œæµé‡ä¼ªè£…ï¼Ÿ** 

å‡çº§åˆ° [V2Ray TLSç‰ˆæœ¬](README-TLS.md) äº«å—ï¼š
- ğŸ”’ ä¼ä¸šçº§TLSåŠ å¯†
- ğŸ­ é«˜çº§æµé‡ä¼ªè£…  
- ğŸ›¡ï¸ 22é¡¹å®‰å…¨å¢å¼º
- ğŸ“œ æ™ºèƒ½è¯ä¹¦ç®¡ç†

#### 1. ç«¯å£è¢«å ç”¨
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
netstat -tlnp | grep 10086

# è§£å†³æ–¹æ¡ˆï¼šåœæ­¢å ç”¨ç«¯å£çš„è¿›ç¨‹æˆ–ä¿®æ”¹é…ç½®ä½¿ç”¨å…¶ä»–ç«¯å£
```

#### 2. Docker å®‰è£…å¤±è´¥
```bash
# æ‰‹åŠ¨å®‰è£… Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh
sudo systemctl start docker
sudo systemctl enable docker
```

#### 3. æœåŠ¡å¯åŠ¨å¤±è´¥
```bash
# æ£€æŸ¥ Docker æœåŠ¡çŠ¶æ€
sudo systemctl status docker

# æ£€æŸ¥å®¹å™¨æ—¥å¿—
cd /opt/v2ray-basic && docker-compose logs
```

#### 4. æ— æ³•è¿æ¥
- âœ… æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
- âœ… éªŒè¯äº‘æœåŠ¡å•†å®‰å…¨ç»„é…ç½®
- âœ… ç¡®è®¤ç«¯å£ 10086 å·²å¼€æ”¾
- âœ… æ£€æŸ¥å®¢æˆ·ç«¯é…ç½®æ˜¯å¦æ­£ç¡®

#### 5. æ€§èƒ½é—®é¢˜
```bash
# ç›‘æ§ç³»ç»Ÿèµ„æº
htop
free -h
df -h

# ç›‘æ§ Docker å®¹å™¨èµ„æº
docker stats
```

### è°ƒè¯•å‘½ä»¤

```bash
# æµ‹è¯•æœåŠ¡è¿é€šæ€§
curl -v http://localhost:10086/health

# æ£€æŸ¥å®¹å™¨ç½‘ç»œ
docker network ls
docker network inspect v2ray-basic_v2ray-net

# è¿›å…¥å®¹å™¨è°ƒè¯•
docker exec -it v2ray-basic-server sh
docker exec -it v2ray-basic-nginx sh
```

## ğŸ” å®‰å…¨å»ºè®®

### 1. å®šæœŸç»´æŠ¤
- ğŸ”„ å®šæœŸæ›´æ–° Docker é•œåƒ
- ğŸ”„ ç›‘æ§ç³»ç»Ÿæ—¥å¿—
- ğŸ”„ å¤‡ä»½é‡è¦é…ç½®

### 2. ç½‘ç»œå®‰å…¨
- ğŸ›¡ï¸ ä»…å¼€æ”¾å¿…è¦çš„ç«¯å£
- ğŸ›¡ï¸ ä½¿ç”¨å¼ºå¯†ç å’Œå¯†é’¥
- ğŸ›¡ï¸ å®šæœŸæ›´æ¢ UUID

### 3. ç›‘æ§å’Œæ—¥å¿—
- ğŸ“Š ç›‘æ§å¼‚å¸¸è®¿é—®
- ğŸ“Š åˆ†ææµé‡æ¨¡å¼
- ğŸ“Š è®¾ç½®æ—¥å¿—è½®è½¬

### 4. å‡çº§åˆ° TLS ç‰ˆæœ¬
å¯¹äºç”Ÿäº§ç¯å¢ƒï¼Œå¼ºçƒˆå»ºè®®ä½¿ç”¨ TLS ç‰ˆæœ¬ï¼š
- ğŸ”’ æä¾› HTTPS åŠ å¯†
- ğŸ”’ æ”¯æŒåŸŸåè®¿é—®
- ğŸ”’ æ›´å¥½çš„å®‰å…¨æ€§

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### æ–‡æ¡£å’Œèµ„æº
- ğŸ“– [V2Ray å®˜æ–¹æ–‡æ¡£](https://www.v2fly.org/)
- ğŸ“– [Docker å®˜æ–¹æ–‡æ¡£](https://docs.docker.com/)
- ğŸ“– [Nginx å®˜æ–¹æ–‡æ¡£](https://nginx.org/en/docs/)

### ç¤¾åŒºæ”¯æŒ
- ğŸ’¬ [GitHub Issues](https://github.com/alleninnz/v2ray/issues)
- ğŸ’¬ [V2Ray ç¤¾åŒº](https://github.com/v2fly/v2ray-core)

## âš ï¸ é‡è¦æé†’

1. **åˆæ³•ä½¿ç”¨**: è¯·ç¡®ä¿åœ¨å…è®¸çš„æ³•å¾‹æ¡†æ¶å†…ä½¿ç”¨
2. **ç½‘ç»œå®‰å…¨**: æœ¬è„šæœ¬ä»…ç”¨äºæŠ€æœ¯å­¦ä¹ å’Œæµ‹è¯•
3. **ç”Ÿäº§ç¯å¢ƒ**: ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨ TLS ç‰ˆæœ¬
4. **å®šæœŸæ›´æ–°**: ä¿æŒç³»ç»Ÿå’Œè½¯ä»¶æ›´æ–°

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

---

**Made with â¤ï¸ for the V2Ray community**